---
description: Reglas para controladores y estructura REST
globs: ["app/Http/Controllers/**/*.php"]
alwaysApply: true
---

# Reglas – Controladores en Laravel

## Controlador API Correcto
1. Validación → Form Request  
2. Llamada al servicio (si aplica)  
3. Respuesta estandarizada  

## No está permitido
- Validación dentro del controlador  
- Escribir lógica de negocio  
- Manejar errores manualmente → deben lanzarse excepciones y capturarse globalmente

## Ejemplo Correcto
```php
public function store(StoreReservaRequest $request)
{
    $reserva = $this->reservasService->crearReserva($request->validated());
    return $this->successResponse($reserva, 'Reserva creada', 201);
}