---
description: Reglas para testing Feature y validación de endpoints
globs: ["tests/**/*.php"]
alwaysApply: true
---

# Reglas – Testing

## Feature Tests
Cada endpoint debe tener:
- Test de éxito
- Test de validación
- Test de error (404)

## Buenas Prácticas
- Usar factories para datos
- Limpiar base (RefreshDatabase)
- Simular fechas con `Carbon::setTestNow`

## Estructura
```php
public function test_crea_reserva()
{
    $response = $this->postJson('/api/reservas', [...]);
    $response->assertStatus(201);
}
